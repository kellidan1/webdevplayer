<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home Page</title>

    <link href="https://fonts.googleapis.com/css?family=Outfit&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Overlock&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
    <div class="bg">
        <div class="sidebar">
            <div class="menu-wrapper">
                <button class="menu-button active">Queue</button>
                <button class="menu-button">Library</button>
            </div>
            <div class="content-wrapper">
                <div class="box"></div>
                <div class="box"></div>
                <div class="box"></div>
                <div class="box"></div>
                <div class="box"></div>
                <div class="box"></div>
                <div class="box"></div>
                <div class="box"></div>
                <div class="close-btn">X</div>
            </div>

        </div>

        <div class="theme-button-full">
            <div class="theme-button-box">
                <div class="theme-button"></div>
            </div>
        </div>

        <div class="cdCover">
            <img class="cd" src="images/v115_62.png" alt="CD Cover">
        </div>

        <!-- Profile Button -->
        <button class="profile-btn">
            <img src="images/user.png" alt="Profile">
        </button>

        <!-- Right Side Controls -->
        <div class="right-controls">
            <div class="controls">
                <i class="fa-solid fa-shuffle icon"></i>
                <i class="fa-solid fa-backward-step icon"></i>
                <i class="fa-solid fa-play icon"></i>
                <i class="fa-solid fa-forward-step icon"></i>
                <i class="fa-solid fa-repeat icon"></i>
            </div>
        </div>

        <div class="now-playing">
            <div class="song-info">
                <div class="song-title">Happier</div>
                <div class="song-artist">Marshmello, Bastille</div>
            </div>
            <div class="song-time">
                <span class="current-time">0:00</span>
                <div class="progress-bar">
                    <div class="progress"></div>
                </div>
                <span class="duration">3:34</span>
            </div>
        </div>



    </div>


    <script>
        const buttons = document.querySelectorAll('.menu-button');

        buttons.forEach(button => {
            button.addEventListener('click', function () {
                document.querySelector('.menu-button.active')?.classList.remove('active');
                this.classList.add('active');
            });
        });

        const progress = document.querySelector('.progress');
        const currentTimeEl = document.querySelector('.current-time');
        const durationEl = document.querySelector('.duration');

        // Example values
        let currentTime = 0;
        let duration = 214; // seconds (3:34)

        durationEl.textContent = formatTime(duration);

        setInterval(() => {
            if (currentTime < duration) {
                currentTime++;
                progress.style.width = (currentTime / duration) * 100 + '%';
                currentTimeEl.textContent = formatTime(currentTime);
            }
        }, 1000);

        function formatTime(sec) {
            const minutes = Math.floor(sec / 60);
            const seconds = sec % 60;
            return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
        }
        const vinyl = document.querySelector('.cd');
        let startTime = null;

        function animateVinyl(timestamp) {
            if (!startTime) startTime = timestamp;
            const elapsed = (timestamp - startTime) / 50;  // seconds passed

            if (currentTime < duration) {
                const rotation = (elapsed / duration) * 360;
                vinyl.style.transform = `rotate(${rotation}deg)`;
            }

            requestAnimationFrame(animateVinyl);
        }

        requestAnimationFrame(animateVinyl);
    </script>
</body>

</html>